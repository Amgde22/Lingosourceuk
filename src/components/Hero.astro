---
import { t } from "i18n:astro";
import dudeFull from "@assets/images/hero-100.webp" 
import dudeMiddle from "@assets/images/hero-75.webp" 
import dudeHalf from "@assets/images/hero-50.webp" 

---

<section class="hero">
  <div class="hero-container">
    <!-- Left Content -->
    <div class="hero-content">
      <h1 class="hero-heading" set:html={t("home:hero.heading_line1")}></h1>
      <h1 class="hero-heading" set:html={t("home:hero.heading_line2")}></h1>
      <p class="hero-body" set:html={t("home:hero.body")}></p>
      <p class="hero-small">{t("home:hero.smallText")}</p>
      <div class="hero-ctas">
        <a href="/contact" class="cta-btn btn-primary">{t("home:hero.primaryCta")}</a>
        <a href="/how-it" class="cta-btn btn-secondary">{t("home:hero.secondaryCta")}</a>
      </div>
    </div>

    <!-- Right Content -->
    <div class="hero-image">
      <div class="image-bg">
        <picture >
            <!-- Large screens or retina displays get the highest quality -->
            <source srcset={dudeFull.src} media="(min-width: 1024px)" type="image/webp" />
            <!-- Medium devices (tablets) -->
            <source srcset={dudeMiddle.src} media="(min-width: 640px)" type="image/webp" />
            <!-- Small devices (default fallback) -->
            <img 
              src={dudeHalf.src} 
              alt="Support agent" 
              loading="lazy" 
              decoding="async" 
              width="500"
              height="500"
            />
          </picture>
      </div>
    </div>
  </div>

  <!-- Decorative Squares -->
  <div class="square square-left"></div>
  <div class="square square-right"></div>
</section>

<style lang="less">
  @primary-cta-color:var(--secondary-600);
  @object-rotate:-30deg;
  @cta-border-radius: 100vw;

.hero {
  position: relative;
  padding: var( --sectionPadding);
  background: #fafafa;
  isolation:isolate;
  overflow:hidden;

  .hero-content{
    margin-top: 20px ;
    max-width: 100% !important;
  }
  .hero-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
  }

  .hero-heading {
    font-size: calc(35px + (10) * (100vw - 400px) / (1024 - 400));
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 4px;
  }

  .hero-body {
    font-size: 1rem;
    margin: var(--spacing-lg) 0;

    color: #444;


  }
:global(.hero-body strong){
    color: #2a2a2a;


}
  .hero-small {
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 1.5rem;
    color: #111;
  }

  .hero-ctas {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
.cta-btn{
  padding: 0.6rem 1.4rem;
  font-weight: 600;
  transition: background 0.3s, color 0.3s;
  text-decoration: none;
  letter-spacing: 1px;
  text-transform: uppercase;
  border-radius:@cta-border-radius;

}
    .btn-primary {
      background: @primary-cta-color;
      color: #fff;
    }

    .btn-primary:hover {
      background: var(--secondary-700);
    }

    .btn-secondary {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-secondary:hover {
      background: var(--primary);
      color: #fff;
    }
  }

  .hero-image {

    display: none;
    justify-content: center;
    isolation: isolate;
    &::before{
        content: "";
        position: absolute;
        bottom:0;
        left: 13%;
        width: 83%;
        height: 75%;
        background-color: var(--primary);
        display: block;
        z-index: -1;
        border-radius: 0.8rem 0.8rem 0 0 ;
        transform: rotate(@object-rotate);
    }
    .image-bg {
      position: relative;
    //   background: #dbeafe;
      padding: 1rem;
      border-radius: 0.8rem;
      display:flex;
      img {
        max-width: 100%;
        max-height:100%;
        height: auto;
        display: block;
        margin-top:auto;
        border-radius: 0.8rem;
      }
      picture{
        margin-top: auto;
      }
    }
  }

  /* Decorative Squares */
  .square {
    position: absolute;
    width: 120px;
    height: 120px;
    background: var(--primary);
    opacity: 0.15;
    border-radius: 0.8rem;

  }

  .square-left {
    left: 0;
    bottom: 0;
    transform: rotate(@object-rotate) translateY(10%) translateX(-100%) ;
  }

  .square-right {
    top: 20%;
    right: 0;
    transform: rotate(@object-rotate) translateY(-50%) translateX(100%) ;
  }


}

/* Tablet */
@media only screen and (min-width: 768px) {
  .hero-container {
    grid-template-columns: 1fr 1fr;
  }
  .hero-heading {
    font-size: calc(40px + (10 * (100vw - 400px) / (1024 - 400)));
  }


  .square {
    opacity: 0.75 !important;

  }

  .square-left {
    transform: rotate(@object-rotate) translateY(10%) translateX(-100%) scale(2) !important;
  }

  .square-right {
    transform: rotate(@object-rotate) translateY(-50%) translateX(100%) scale(2) !important;
  }
}

/* Desktop */
@media only screen and (min-width: 1024px) {
  .hero {
    max-height: 100vh !important;

    /* backdrop blur layer for text legibility */
    .hero-content {
      position: relative;
      z-index: 2;
    }
  }

  .hero-body,.hero-heading,.hero-small{
    width:fit-content;
    background: rgba(250, 250, 250, 0.7); 
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 1rem; 
      padding:8px;
  }
  .btn-secondary{
    background: rgba(250, 250, 250, 0.7); 
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
  }
  .hero-body {
    width: 50ch;
  }

  .hero-image {
    position: absolute;
    right: 100px;
    bottom: 0;
    z-index: -1;
    height: 75%;
    display: flex !important;
  }

  .image-bg {
    padding: 0 !important;
  }

  .hero-heading {
    font-size: calc(48px + (10 * (100vw - 400px) / (1440 - 400)));
  }
}

</style>
